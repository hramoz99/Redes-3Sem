# ROTEIRO

"O troubleshooting pode ser compreendido como uma espécie de diagrama de ações, um conjunto de medidas que orienta a resolução de problemas dentro do ambiente de TI.
Em tradução, troubleshooting significa solução de problemas.”

PROBLEMA: “ Um funcionário, ao ser demitido, danificou a infraestrutura funcional da empresa, deixando-a fora do ar. 
Você e sua equipe, sendo chamados como consultores para resolverem os problemas, deverão colocar este mesmo ambiente no ar novamente.
Assim, auxiliando na diminuição do prejuízo desta empresa que os contrataram.”


OBJETIVO:

PREMISSAS - TÉCNICAS
	- Rede:
	- Realizar a cópia (backup) de todo arquivo de configuração a ser alterado
	- Estado dos serviços que serão analisados
	- LOG de Sistema

CENÁRIO - PREPARAÇÃO DO AMBIENTE
(MODELO OSI - 7 CAMADAS)

	7 - APLICAÇÃO - Navegador / Apache2 / FTP

	6 - APRESENTAÇÃO - Codificação

	5 - SESSÃO - Autenticação

	4 - TRANSPORTE - TCP/UDP/ICMP | Divisão da parte física para a parte lógica do serviço

	3 - REDE (NET) - ROTEADOR (DOMÍNIO DE 	BROADCAST) | Conectar redes diferentes | Segmentação

	2 - ENLACE (LINK LAYER/FRAME) | Enquadramento da informação | Organização de termos binários (com começo, meio e fim) - SWITCH (DOMÍNIO DE COLISÃO)

	1 - FÍSICA | Wireless, Cabo | Energia elétrica convertida em 0s e 1s (binário) - HUB (REPETIDOR) / CONECTORIZAÇÕES

FÍSICO (Virtualização - VirtualBox)

	* Import das máquinas virtuais
	* Configuração das interfaces de rede (NIC)
	* Conexões de Switch

LÓGICO (Sistema operacional)

	* Configuração base
		Hostname
		Interface(s) de rede
		Usuário/Grupos

	* Serviços
		ACESSO REMOTO
		ROTEAMENTO/NAT
		DNS
		WEB
		DHCP

SRVLNX-NAIROBI
FisicICO (Virtualizaﾃｧﾃ｣o - VirtualBox)
        Import das mﾃ｡quinas virtuais
        Configuraﾃｧﾃ｣o das interfaces de rede (NIC)
                A1 - NAT
                A2 - Rede interna: LAN Segment
        Conexﾃｵes de Switch
                LAN Segment
Lﾃ敵ICO (Sistema operacional)
        Configuraﾃｧﾃ｣o base
                Hostname:
                        SRVLNX-NAIROBI
                Interface(s) de rede
                        A2(REDE INTERNA) enp0s8 - 
                                Address: 172.31.100.253
                                Netmask: 255.255.255.0
                        A1(NAT) - enp0s17
                                DHCP
                                #"editor" /etc/network/interfaces
                Usuﾃ｡rio/Grupos
                        #cat /etc/passwd
                Outra*
        
        Serviﾃｧos
                ACESSO REMOTO (openssh-server)
                        Nﾃ｣o existia instalaﾃｧﾃ｣o!
                ROTEAMENTO/NAT
                DNS (bind9)
                        #Arquivo com o Resolver (DNS para consulta pelo equipamento em questﾃ｣o)
                        /etc/resolv.conf
                        #Arquivo de declaraﾃｧﾃ｣o das zonas
                        /etc/bind/named.conf.local
                        #Arquivo de entrada da zona direta nairobi00.com.br
                        /etc/bind/db.nairobi00.com.br
                        #Arquivo de entrada da zona reverso nairobi00.com.br
                        /etc/bind/db.reverso.nairobi00.com.br
                        #Configurar seguindo a boa prﾃ｡tica
                        /etc/bind/named.conf.options
                
                        Cﾃｳpia dos arquivos acima para o diretﾃｳrio /root/bkp/bind
                        
                        
                        
                WEB (apache2)
                        #Armazenamento da pﾃ｡gina existente
                        /var/www/site                        
                        #Arquivos de configuraﾃｧﾃ｣o do Apache2
                        #Pﾃ｡ginas disponﾃｭveis
                        /etc/apache2/sites-available
                        #Pﾃ｡ginas disponﾃｭveis - Site.conf
                        /etc/apache2/sites-available/site.conf
                        #Pﾃ｡ginas ativas
                        /etc/apache2/sites-enabled
                        #Verificar a porta de funcionamento do serviﾃｧo HTTP
                        /etc/apache2/ports.conf
                        


SRVWIN-RIO
Fﾃ拘ICO (Virtualizaﾃｧﾃ｣o - VirtualBox)
        Import das mﾃ｡quinas virtuais
        Configuraﾃｧﾃ｣o das interfaces de rede (NIC)
                A1 - LAN Segment
        Conexﾃｵes de Switch
                LAN Segment
                
Lﾃ敵ICO (Sistema operacional)
        Configuraﾃｧﾃ｣o base
                Hostname
                        SRVWIN-RIO
                Interface(s) de rede
                Usuﾃ｡rio/Grupos
                Outra*
        
        Serviﾃｧos
                ACESSO REMOTO
                DHCP
                        Dynamic Host Configuration Protocol
                                REDE
                                Mﾃ｡scara
                                Gateway
                                Escopo(Range)
                
CLTWIN-OSLO                
Fﾃ拘ICO (Virtualizaﾃｧﾃ｣o - VirtualBox)
        Import das mﾃ｡quinas virtuais
        Configuraﾃｧﾃ｣o das interfaces de rede (NIC)
                A1 - LAN Segment
        Conexﾃｵes de Switch
                LAN Segment
                
Lﾃ敵ICO (Sistema operacional)
        Configuraﾃｧﾃ｣o base
                Hostname
                        sysdm.cpl
                                CLTWIN-OSLO
                Interface(s) de rede
                        DHCP
                Usuﾃ｡rio/Grupos
                        lusrmgr.msc
                Outra*
        
        Serviﾃｧos
                ACESSO REMOTO




Caminhos importantes:
/etc/network/interfaces